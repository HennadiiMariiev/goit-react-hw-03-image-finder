(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{23:function(e,a,t){e.exports={App:"App_App__3GBr0",icon:"App_icon__3AtSx"}},32:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__OMBGq"}},36:function(e,a,t){e.exports={LoadMoreButton:"LoadMoreButton_LoadMoreButton__CUHK2"}},39:function(e,a,t){e.exports={Spinner:"Modal_Spinner__2rljr"}},42:function(e,a,t){e.exports={Container:"Container_Container__3t-fT"}},48:function(e,a,t){},6:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__3hKMU",Searchbar__title:"Searchbar_Searchbar__title__1mQ4Y",SearchForm:"Searchbar_SearchForm__1A5i1",SearchForm__input:"Searchbar_SearchForm__input__uYhW8",SearchForm__button:"Searchbar_SearchForm__button__3lCTK",SearchForm__label:"Searchbar_SearchForm__label__1VfhO",Material__icon:"Searchbar_Material__icon__2yBb2"}},7:function(e,a,t){e.exports={Card:"ImageGalleryItem_Card__3BDXg",Card__wrapper:"ImageGalleryItem_Card__wrapper__2Oluc",Card__image:"ImageGalleryItem_Card__image__3g5qn",Stats:"ImageGalleryItem_Stats__2dQmK",Stats__item:"ImageGalleryItem_Stats__item__164j2",Stats__load:"ImageGalleryItem_Stats__load__1qsyI",Material__icon:"ImageGalleryItem_Material__icon__3J-Jn"}},88:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(11),c=t.n(s),o=(t(48),t(5)),i=t.n(o),l=t(20),u=t(15),m=t(13),h=t(14),g=t(19),d=t(18),_=t(29),b=t.n(_),p=t(31),j=t.n(p),f=t(6),x=t.n(f),O=t(2),y=function(e){Object(g.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).clearInput=function(){n.setState({inputValue:""}),n.props.onClear()},n.onInputChange=function(e){n.setState({inputValue:e.target.value})},n.onFormSubmit=function(e){e.preventDefault(),n.props.onSubmit(n.state.inputValue.trim())},n.isEmptyQuery=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n.state.inputValue.trim()){e.next=2;break}return e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)}))),n.state={inputValue:""},n}return Object(h.a)(t,[{key:"render",value:function(){var e=this.state.inputValue,a=x.a.Searchbar,t=x.a.Searchbar__title,n=x.a.SearchForm,r=x.a.SearchForm__button,s=x.a.SearchForm__label,c=x.a.SearchForm__input,o=x.a.Material__icon;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("header",{className:a,children:[Object(O.jsx)("h1",{className:t,children:"Image finder"}),Object(O.jsxs)("form",{className:n,onSubmit:this.onFormSubmit,children:[Object(O.jsx)("input",{className:c,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.onInputChange}),Object(O.jsxs)("button",{type:"submit",className:r,disabled:""===this.state.inputValue.trim(),children:[Object(O.jsx)(b.a,{className:o}),Object(O.jsx)("span",{className:s,children:"Search"})]}),Object(O.jsxs)("button",{type:"button",className:r,onClick:this.clearInput,children:[Object(O.jsx)(j.a,{className:o}),Object(O.jsx)("span",{className:s,children:"Clear"})]})]})]})})}}]),t}(r.a.Component),I=function(){function e(){Object(m.a)(this,e),this.URL="https://pixabay.com/api/?image_type=photo&orientation=horizontal",this.KEY="22384845-2364b219a750a32869ef5ac48",this.page=1,this.query=""}return Object(h.a)(e,[{key:"nextPage",value:function(){return this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"resetQuery",value:function(e){this.query!==e&&(this.query=e,this.page=1)}},{key:"fetchRequest",value:function(e){return this.resetQuery(e),fetch("".concat(this.URL,"&q=").concat(this.query,"&page=").concat(this.page,"&per_page=12&key=").concat(this.KEY)).then((function(e){return e.json()}))}}]),e}(),S=t(32),v=t.n(S),C=t(7),w=t.n(C),N=t(33),k=t.n(N),L=t(34),M=t.n(L),F=t(35),A=t.n(F),q=t(22),R=t.n(q),G=function(e){var a=e.webformatURL,n=e.tags,r=e.largeImageURL,s=e.likes,c=e.views,o=e.comments,i=e.downloads,l=e.onClick,u=w.a.Card,m=w.a.Card__wrapper,h=w.a.Stats,g=w.a.Stats__item,d=w.a.Card__image,_=w.a.Material__icon,b=w.a.Stats__load;return Object(O.jsx)("li",{className:u,children:Object(O.jsxs)("div",{className:m,children:[Object(O.jsx)("img",{src:a,alt:n,"data-large_img":r,className:d,onClick:l}),Object(O.jsxs)("div",{className:h,children:[Object(O.jsxs)("p",{className:g,children:[Object(O.jsx)(k.a,{className:_}),s]}),Object(O.jsxs)("p",{className:g,children:[Object(O.jsx)(M.a,{className:_}),c]}),Object(O.jsxs)("p",{className:g,children:[Object(O.jsx)(A.a,{className:_}),o]}),Object(O.jsxs)("p",{className:g,children:[Object(O.jsx)(R.a,{className:_}),i]})]}),Object(O.jsx)("button",{className:b,onClick:function(){return e=a,void t(56).saveAs(e,"image.jpg");var e},type:"button",children:Object(O.jsx)(R.a,{})})]})})},U=function(e){var a=e.imagesArray,t=e.onClick,n=v.a.ImageGallery;return Object(O.jsx)("ul",{className:n,children:a.map((function(e){var a=e.id,n=e.webformatURL,r=e.tags,s=e.largeImageURL,c=e.likes,o=e.views,i=e.comments,l=e.downloads;return Object(O.jsx)(G,{webformatURL:n,tags:r,largeImageURL:s,likes:c,views:o,comments:i,downloads:l,onClick:t},a)}))})},B=t(12),P=t(17),V=t.n(P);function T(e,a){var t=null;switch(e){case"error":t=B.b.error(a);break;case"warning":t=B.b.warn(a);break;case"success":t=B.b.success(a);break;default:t=B.b.dark(a)}return t}var K=t(36),E=t.n(K),Q=function(e){var a=e.loadMoreImages;return Object(O.jsx)("button",{type:"button",onClick:a,className:E.a.LoadMoreButton,children:"Load More"})};var J=t(37),Y=(t(84),t(28),t(39)),D=t.n(Y);function H(e){var a=e.images,t=e.photoIndex,n=e.onClose,r=e.nextImage,s=e.prevImage;return Object(O.jsx)(J.a,{mainSrc:a[t].largeImageURL,nextSrc:a[(t+1)%a.length].largeImageURL,prevSrc:a[(t+a.length-1)%a.length].largeImageURL,onCloseRequest:n,onMovePrevRequest:s,onMoveNextRequest:r,loader:Object(O.jsx)(V.a,{type:"Circles",color:"#00BFFF",height:100,width:100,className:D.a.Spinner})})}var z=t(40),W=t.n(z),X=t(41),Z=t.n(X),$=(t(86),t(23)),ee=t.n($),ae=new I,te=function(e){Object(g.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).toggleLoader=function(){n.setState((function(e){return{isLoading:!e.isLoading}}))},n.onSubmit=function(){var e=Object(u.a)(i.a.mark((function e(a){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.toggleLoader(),e.prev=1,e.next=4,ae.fetchRequest(a);case 4:t=e.sent,r=t.hits,n.setState({imagesArray:Object(l.a)(r)}),0===r.length?T("warning","No images found on your query"):T("success","".concat(r.length,' new images loaded on "').concat(ae.query,'" query. Total: ').concat(n.state.imagesArray.length)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),T("error",e.t0);case 13:return e.prev=13,n.toggleLoader(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(a){return e.apply(this,arguments)}}(),n.loadMoreImages=Object(u.a)(i.a.mark((function e(){var a,t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.toggleLoader(),ae.nextPage(),a=ae.query,e.prev=3,e.next=6,ae.fetchRequest(a);case 6:t=e.sent,r=t.hits,n.setState({imagesArray:[].concat(Object(l.a)(n.state.imagesArray),Object(l.a)(r))}),0===r.length?T("warning","No more images found on your query"):T("success","".concat(r.length,' new images loaded on "').concat(a,'" query. Total: ').concat(n.state.imagesArray.length)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),T("error",e.t0);case 15:return e.prev=15,n.toggleLoader(),e.finish(15);case 18:window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 19:case"end":return e.stop()}}),e,null,[[3,12,15,18]])}))),n.onClear=function(){n.setState({imagesArray:[]})},n.switchModal=function(){n.setState({isModalOpen:!n.state.isModalOpen})},n.onGalleryListClick=function(e){if("IMG"===e.target.nodeName){var a=n.state.imagesArray.findIndex((function(a){return a.webformatURL===e.target.src}));n.setState({modalImageIndex:a})}n.switchModal()},n.showNextImage=function(){var e=n.state.modalImageIndex+1;e>=n.state.imagesArray.length&&(e=0),n.setState({modalImageIndex:e})},n.showPrevImage=function(){var e=n.state.modalImageIndex-1;e<0&&(e=n.state.imagesArray.length-1),n.setState({modalImageIndex:e})},n.state={imagesArray:[],isLoading:!1,isModalOpen:!1,modalImageIndex:null},n}return Object(h.a)(t,[{key:"render",value:function(){var e=this.state,a=e.imagesArray,t=e.modalImageIndex,n=e.isLoading,r=e.isModalOpen,s=this.onSubmit,c=this.onClear,o=this.onGalleryListClick,i=this.loadMoreImages,l=this.switchModal,u=this.showNextImage,m=this.showPrevImage;return Object(O.jsxs)("div",{className:ee.a.App,children:[Object(O.jsx)(y,{onSubmit:s,onClear:c}),Object(O.jsx)(U,{imagesArray:a,onClick:o}),n&&Object(O.jsx)(V.a,{type:"Circles",color:"#00BFFF",height:100,width:100}),!!a.length&&!n&&Object(O.jsx)(Q,{loadMoreImages:i}),r&&Object(O.jsx)(H,{images:a,photoIndex:t,onClose:l,nextImage:u,prevImage:m}),Object(O.jsx)(W.a,{showUnder:160,children:Object(O.jsx)("button",{type:"button",className:ee.a.icon,children:Object(O.jsx)(Z.a,{})})}),Object(O.jsx)(B.a,{})]})}}]),t}(r.a.Component),ne=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,101)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,s=a.getLCP,c=a.getTTFB;t(e),n(e),r(e),s(e),c(e)}))},re=t(42),se=t.n(re),ce=function(e){var a=e.children;return Object(O.jsx)("div",{className:se.a.Container,children:a})};c.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(ce,{children:Object(O.jsx)(te,{})})}),document.getElementById("root")),ne()}},[[88,1,2]]]);
//# sourceMappingURL=main.65171aba.chunk.js.map